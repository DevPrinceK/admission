{% extends 'accounts/base.html' %}
{% block pagetitle %} Register {% endblock %}
{% load static %}
{% block content %}
<!-- NOTE STARTS -->
<div class="card-sigin mt-2">
    <div class="main-signup-header">
        <!-- message -->
        {% if messages %}
        {% for message in messages %}
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            {{message}}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        {% endfor %}
        {% endif %}

        <h5 class="fw-semibold mb-4 text-primary">Register with your index number and year of completion</h5>
        <form action="" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group">
                <label for="index_number">Index Number</label>
                <input class="form-control" id="index_number" name="index_number" value="{{index_number}}"
                    placeholder="Enter Index Number" type="text" required>
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <input class="form-control" id="password" name="password" placeholder="Enter Password" type="password">
            </div>
            <div class="form-group">
                <label for="confirm_password">Confirm Password</label>
                <input class="form-control" id="confirm_password" name="password2" placeholder="Confirm Password"
                    type="password">
            </div>
            <button class="btn btn-main-primary btn-block" onclick="matchPassword()" type="submit">Sign Up</button>

        </form>
        <div class="main-signin-footer mt-5">
            <p>Already Registered? <a href="{% url 'accounts:login' %}">Login</a></p>
        </div>
    </div>
</div>
<!--  ENDS -->


<script>
    // confirm password and password confirmation
    const matchPassword = () => {
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirm-password').value;
        if (password !== confirmPassword) {
            document.getElementById('confirm-password').setCustomValidity('Passwords do not match.');
        } else {
            pass
        }
    }
</script>


{% endblock %}